name: Test Environments

on:
    workflow_dispatch:

jobs:
    test-dev:
        runs-on: ubuntu-latest
        environment:
            name: development
        steps:
            - name: Test Development Environment
              run: |
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo "âœ… Development environment accessible"
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo ""
                  echo "Environment: development"
                  echo "Approval required: No"
                  echo "Deployment branches: develop"

    test-staging:
        runs-on: ubuntu-latest
        environment:
            name: staging
        needs: test-dev
        steps:
            - name: Test Staging Environment
              run: |
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo "âœ… Staging environment accessible"
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo ""
                  echo "Environment: staging"
                  echo "Approval required: Yes (1 reviewer)"
                  echo "Deployment branches: rc-*"
                  echo ""
                  echo "If you see this message, the approval was granted!"

    test-prod:
        runs-on: ubuntu-latest
        environment:
            name: production
        needs: test-staging
        steps:
            - name: Test Production Environment
              run: |
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo "âœ… Production environment accessible"
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo ""
                  echo "Environment: production"
                  echo "Approval required: Yes (2 reviewers)"
                  echo "Deployment branches: v*"
                  echo "Wait timer: 5 minutes"
                  echo ""
                  echo "If you see this message, both approvals were granted!"

    summary:
        runs-on: ubuntu-latest
        needs: [test-dev, test-staging, test-prod]
        steps:
            - name: Environment Test Summary
              run: |
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo "ğŸ‰ All environments configured correctly!"
                  echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
                  echo ""
                  echo "âœ… Development: No approval required"
                  echo "âœ… Staging: 1 reviewer approval working"
                  echo "âœ… Production: 2 reviewer approvals working"
                  echo ""
                  echo "Your CI/CD pipeline is ready for deployment workflows!"
